## コントリビューション

コントリビューションはプルリクエストの形でより歓迎します。

作業する[未解決の問題](https://github.com/smartsdk/ngsi-timeseries-api/issues)の1つを選択するか、自分の必要に応じて拡張機能を提供することができます。いずれにしても、事前に連絡を取り、コントリビューションが現在の開発状況と一致することを確認することをお勧めします。

コントリビューションの手順 :

1. リポジトリをフォークし、ローカル開発環境にフォークをクローンします
1. コードへのモジュラー・コントリビューションを特定します。レビューを単純化するにはあまりにも多くのコントリビューションを避けます
1. "モジュラー・コントリビューション"に取り組むブランチをリポジトリに作成します
   - 異なる機能を取り組むための複数のコントリビューションについては、異なるブランチを作成してください
   - すべての新しい機能について、テストを提供します。テストをローカルで実行する方法を理解するには、root で `setup_dev_env.sh` と `run.sh` を参照してください
1. 完了したら、すべてのテストが合格であることを確認します
1. もしそうなら、私たちのリポジトリに対してプル・リクエストを作成します。失敗したテストでプル・リクエストをレビューすることはできません
1. レビューを待つ
   - 必要な変更を実装する
   - 承認まで繰り返す
1. 完了:) あなたのリポジトリ内のブランチを削除できます

## 開発のセットアップ

開発は今のところほとんどが *python3* に基づいており、実際には初期段階にありますので、事態は確実に変わります。今のところ、あなたは以下から始めることができます :

    git clone https://github.com/smartsdk/ngsi-timeseries-api.git
    cd ngsi-timeseries-api
    python3 -m venv env
    pip install -r requirements.txt

    # if you want to test everything locally, you'll need to...
    source setup_dev_env.sh

[pytest](https://docs.pytest.org/en/latest/) はテストフレームワークとして使用されますが、QuantumLeap の機能のほとんどはコンポーネントの統合であるため、テスト・フォルダの `docker-compose.yml` ファイルがテストのセットアップとして実行されます。`.travis.yml` ファイルが表示されている場合は、それらのファイルがどのように動作しているかが分かりますが、*pytest-docker* プラグインを調べる価値があります。

`requirements.txt` は、テストとプロダクションの間で分割する必要があります。そのため、Docker のイメージは今のところ大規模です。

## リポジトリ構造

現在のプロジェクト・ツリー構造では、次のとおりです：

- `ngsi-timeseries-api`
    - `client`: 統合テストを容易にするために、単純な Orion Context Broker クライアントを保持しています。ある時点でここから移動します
    - `experiments`: サンドボックスを使用して迅速な手動テストを行い、新しいテストケースを導き出します
    - `python-flask`: swagger で定義された API コントローラーの実装を保持します
    - `reporter`: このモジュールは通知のレシーバーとして動作し、トランスレーターに処理される前に "解析/検証"されます
    - `translators`: 時系列データベースのための特定のトランスレーター
    - `utils`: 住みやすい場所を探している共通の共有物
